{
  "filter_recipients": {
    "action": {
      "name": "Email-filterlist",
      "version": "1"
    },
    "params": {
      "pageSize": 10000,
      "source": {
        "<(section)>": "create_db"
      },
      "query": {
        "select": {
          "email": [],
          "firstname": "$v like 'a%'",
          "lastname":  "$v like 'a%'"
        }
      }
    },
    "prereqs": [],
    "status": "READY",
    "essential": true
  },
  "create_db": {
    "action": {
      "name": "Email-createdb",
      "version": "1"
    },
    "params": {
      "source": "s3://balihoo.dev.fulfillment/lists/snap/member_current.csv",
      "dbname": "test.db",
      "dtd": {
        "columns": [
          {
            "name": "email",
            "type": "varchar(100)",
            "source": "email"
          },
          {
            "name": "firstname",
            "type": "varchar(50)",
            "source": "firstname"
          },
          {
            "name": "lastname",
            "type": "varchar(50)",
            "source": "lastname"
          }
        ]
      }
    },
    "prereqs": [],
    "status": "READY",
    "essential": true
  }
}